<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Traffic Light Controller</title>
    <!-- p5.js, p5.dom, ml5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/addons/p5.dom.min.js"></script>
    <script src="https://unpkg.com/ml5@1/dist/ml5.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- 메인 컨테이너: 왼쪽 패널 + 오른쪽 패널 -->
    <div class="main-container">
      
      <!-- 왼쪽 패널: 신호등, 슬라이더, 버튼 등 -->
      <div class="left-panel">
        <h1>Traffic Light Controller</h1>
        <div class="traffic-light-indicators">
          <div id="red-indicator" class="circle"></div>
          <div id="yellow-indicator" class="circle"></div>
          <div id="green-indicator" class="circle"></div>
        </div>
        <button id="connectButton" class="connect-button">Connect Serial</button>
        <p id="serialInfo" class="info">Waiting for data...</p>

        <!-- Red Slider -->
        <div class="slider-container">
          <label for="rSlider">Red Duration (ms)</label>
          <input type="range" id="rSlider" min="100" max="5000" value="2000" step="100" />
          <div class="ticks">
            <span class="tick" style="left: 0%;">100</span>
            <span class="tick" style="left: 25%;">1500</span>
            <span class="tick" style="left: 50%;">3000</span>
            <span class="tick" style="left: 75%;">4500</span>
            <span class="tick" style="left: 100%;">5000</span>
          </div>
        </div>

        <!-- Yellow Slider -->
        <div class="slider-container">
          <label for="ySlider">Yellow Duration (ms)</label>
          <input type="range" id="ySlider" min="100" max="5000" value="500" step="50" />
          <div class="ticks">
            <span class="tick" style="left: 0%;">100</span>
            <span class="tick" style="left: 25%;">1500</span>
            <span class="tick" style="left: 50%;">3000</span>
            <span class="tick" style="left: 75%;">4500</span>
            <span class="tick" style="left: 100%;">5000</span>
          </div>
        </div>

        <!-- Green Slider -->
        <div class="slider-container">
          <label for="gSlider">Green Duration (ms)</label>
          <input type="range" id="gSlider" min="100" max="5000" value="2000" step="100" />
          <div class="ticks">
            <span class="tick" style="left: 0%;">100</span>
            <span class="tick" style="left: 25%;">1500</span>
            <span class="tick" style="left: 50%;">3000</span>
            <span class="tick" style="left: 75%;">4500</span>
            <span class="tick" style="left: 100%;">5000</span>
          </div>
        </div>
      </div> <!-- .left-panel 끝 -->

      <!-- 오른쪽 패널: (영상 + 로그 패널) 수직 배치 -->
      <div class="right-panel">
        <!-- 캔버스 영역 (영상) -->
        <div id="canvas-container"></div>

        <!-- 로그 패널 -->
        <div class="log-panel">
          <table id="singleRowTable" class="log-table">
            <thead>
              <tr>
                <th>현재 시간 / 김형진</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="timeCell"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div> <!-- .main-container 끝 -->

    <script src="sketch.js"></script>
  </body>
</html>
